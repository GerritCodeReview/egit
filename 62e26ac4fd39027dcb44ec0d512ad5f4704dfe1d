{
  "comments": [
    {
      "key": {
        "uuid": "54aec292_565236a8",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/Activator.java",
        "patchSetId": 2
      },
      "lineNbr": 356,
      "author": {
        "id": 17
      },
      "writtenOn": "2018-10-26T09:42:03Z",
      "side": 1,
      "message": "Two questions:\n1) is UI thread really necessary here?\n2) I think a better solution would be a BundleTracker, i.e. register and watch for JDT start/stop.",
      "revId": "62e26ac4fd39027dcb44ec0d512ad5f4704dfe1d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "402841f8_e4d8f8ba",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/Activator.java",
        "patchSetId": 2
      },
      "lineNbr": 356,
      "author": {
        "id": 1179
      },
      "writtenOn": "2018-10-26T09:44:06Z",
      "side": 1,
      "message": "1) Yes. The JDT UI can\u0027t be initialized outside UI thread.\n2) Can you please provide a snippet / example?",
      "parentUuid": "54aec292_565236a8",
      "revId": "62e26ac4fd39027dcb44ec0d512ad5f4704dfe1d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7475693f_1a94577f",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/Activator.java",
        "patchSetId": 2
      },
      "lineNbr": 1147,
      "author": {
        "id": 1093
      },
      "writtenOn": "2018-10-26T09:35:00Z",
      "side": 1,
      "message": "This one looks good to me. Not sure how lines 359ff relates to JDT activation. Maybe a cleanup.",
      "revId": "62e26ac4fd39027dcb44ec0d512ad5f4704dfe1d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8c0e0c24_e86505df",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/Activator.java",
        "patchSetId": 2
      },
      "lineNbr": 1147,
      "author": {
        "id": 1179
      },
      "writtenOn": "2018-10-26T09:42:22Z",
      "side": 1,
      "message": "the code above *also* activates JDT UI, but I currently see no other way to avoid this to happen on startup of EGit.\n\nThis patch is only to keep JDT init away from start() call and to avoid this ugly Class.forName().",
      "parentUuid": "7475693f_1a94577f",
      "revId": "62e26ac4fd39027dcb44ec0d512ad5f4704dfe1d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5d7903fb_a0d0233c",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/Activator.java",
        "patchSetId": 2
      },
      "lineNbr": 1147,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-10-26T11:23:37Z",
      "side": 1,
      "message": "This bit is good. But the above... I don\u0027t know. In an IDE that does have JDT UI at all, JDT UI is going to be initialized very early anyway due to commands and stuff in plugin.xml via createExecutableExtension. No EGit involved there. It would be possible to avoid the job by using a BundleListener on the BundleContext that would run the template variable resolver setup code when JDT UI enters STARTED. (Similar to Gunnar\u0027s BundleTracker suggestion, but a BundleTracker tracks _all_ bundles. Not sure we\u0027d want that.)\n\nBut I guess we\u0027d only see any effects on IDEs that don\u0027t include JDT UI at all, or in which no Plugin/Java perspective etc. is active and there are no Java sources at all. Maybe a CDT Eclipse if someone installed JDT in it...\n\nWhat exactly is the problem here? The exception logged from Class.forName() is nicely handled with this one-line change.",
      "parentUuid": "8c0e0c24_e86505df",
      "revId": "62e26ac4fd39027dcb44ec0d512ad5f4704dfe1d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2262ddf9_8317a7c6",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/Activator.java",
        "patchSetId": 2
      },
      "lineNbr": 1147,
      "author": {
        "id": 1179
      },
      "writtenOn": "2018-10-26T11:40:40Z",
      "side": 1,
      "message": "Regarding \"what is the problem here\" and one line change.\n\nThe code is called by bundle start() method. The start() javadoc is clear: \"This method is intended to perform simple initialization of the plug-in environment. The platform may terminate initializers that do not complete in a timely fashion.\" \n\nIn the practice this means: \"we will kill you after 5 seconds\".\n\nSo it is always a good idea to move *longer* things required to be triggered in start() in a job, which will not be cancelled after 5 seconds.\n\nHere the one line change only prevents the Class.forName() call but does not prevent the code following to continue initialize JDT UI in the context of the start() call, with the danger to be terminated at any time.\n\nTherefore the few extra lines above to move the access to JDT UI code in a dedicated UI job - if we have luck, JDT UI is already there. If not, it will trigger JDT UI init as before, but now *not* in the context of *this* bundle start() method, reducing the time needed for *this* activation chain.",
      "parentUuid": "5d7903fb_a0d0233c",
      "revId": "62e26ac4fd39027dcb44ec0d512ad5f4704dfe1d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c0f5e60_0a63e381",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/Activator.java",
        "patchSetId": 2
      },
      "lineNbr": 1147,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-10-26T11:56:32Z",
      "side": 1,
      "message": "OK, so you\u0027re not trying to prevent that EGit UI does cause JDT UI bundle start (if JDT isn\u0027t started yet), but you just want to happen that JDT UI bundle start not synchronously withing EGit UI start.\n\nIn that case this change is OK, and there\u0027s no need for BundleTracker/BundleListener.\n\nI didn\u0027t understand that from the commit message. Please clarify that in the commit message. (And use a shorter first line in the commit message.)",
      "parentUuid": "2262ddf9_8317a7c6",
      "revId": "62e26ac4fd39027dcb44ec0d512ad5f4704dfe1d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04c167b8_da9060e5",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/uitext.properties",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 17
      },
      "writtenOn": "2018-10-26T09:42:03Z",
      "side": 1,
      "message": "That message looks a bit technical to me. Maybe \"Adding/removing/initializing support for Java templates\"?",
      "revId": "62e26ac4fd39027dcb44ec0d512ad5f4704dfe1d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "699ddbaf_0d81285b",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/uitext.properties",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1179
      },
      "writtenOn": "2018-10-26T09:44:06Z",
      "side": 1,
      "message": "Yes, sounds better.",
      "parentUuid": "04c167b8_da9060e5",
      "revId": "62e26ac4fd39027dcb44ec0d512ad5f4704dfe1d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}