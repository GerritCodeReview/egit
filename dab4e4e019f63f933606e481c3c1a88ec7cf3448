{
  "comments": [
    {
      "key": {
        "uuid": "a766b734_89a42d04",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 6
      },
      "writtenOn": "2014-10-24T15:01:12Z",
      "side": 1,
      "message": "That works fine, besides the corner case I commented in the Staging View, line 1880.\n\nBut, on the other hand, it does only a small step when it comes to working with submodules nested in one eclipse project. Still the History View, the Team menu, the Compare With and Replace With menu, the toolbar buttons, the reflog view and the decorators are still not connected to the submodule repository. And I am sure I forgot something. \n\nI am not sure if all these other places can simply be changed in the same way as the Staging View. I am not sure if the concept of the RepositoryMapping would still be suited if we had more than one repository per project.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 17,
        "endChar": 69
      },
      "revId": "dab4e4e019f63f933606e481c3c1a88ec7cf3448",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a766b734_47a4aa02",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 4
      },
      "writtenOn": "2014-11-04T14:17:06Z",
      "side": 1,
      "message": "I tested this change rebased on current master on Eclipse Mars M2 and found that it\u0027s working properly if the sources contained in submodules each live in their own separate Eclipse projects. Hence I think we should accept this change for this use case (submodules in separate projects) and clearly state that it doesn\u0027t yet work for projects spanning super project and submodule.\n\nI tried successfully:\n* history View\n* team menu\n* compare with\n* replace with\n* toolbar buttons\n* reflog view\n* decorators\n\nthere are a few problems left and I will file bugs for those.\n\nIf super project and submodules reside in the same Eclipse project I can see all the problems you mentioned. So there is quite some work needed to make this work, I think to support that we would have to first enhance RepositoryMapping to handle projects spanning multiple git repositories.",
      "parentUuid": "a766b734_89a42d04",
      "revId": "dab4e4e019f63f933606e481c3c1a88ec7cf3448",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a766b734_27624e32",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 4
      },
      "writtenOn": "2014-11-04T14:17:06Z",
      "side": 1,
      "message": "add footer to link related bugs\n\nBug: 382093 ?\nBug: 411742 ?\nBug: 446344",
      "revId": "dab4e4e019f63f933606e481c3c1a88ec7cf3448",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a766b734_9e8228a0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 6
      },
      "writtenOn": "2014-12-10T11:54:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a766b734_27624e32",
      "revId": "dab4e4e019f63f933606e481c3c1a88ec7cf3448",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a766b734_492fb512",
        "filename": "org.eclipse.egit.core/src/org/eclipse/egit/core/project/RepositoryMapping.java",
        "patchSetId": 1
      },
      "lineNbr": 153,
      "author": {
        "id": 6
      },
      "writtenOn": "2014-10-24T15:01:12Z",
      "side": 1,
      "message": "This works, but I think it does not quite fit to the overall concept of the RepositoryMapping class. The assumption is that there is one repository. Methods like getRepoRelativePath make use of that assumption.\n\nThere are many, many places in EGit which just call getRepository(). If we\u0027d change all these places to use getRepository(IResource res) do a submodule walk in case there are submodules we may get a performance penalty.",
      "range": {
        "startLine": 153,
        "startChar": 32,
        "endLine": 153,
        "endChar": 45
      },
      "revId": "dab4e4e019f63f933606e481c3c1a88ec7cf3448",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a766b734_677446f2",
        "filename": "org.eclipse.egit.core/src/org/eclipse/egit/core/project/RepositoryMapping.java",
        "patchSetId": 1
      },
      "lineNbr": 153,
      "author": {
        "id": 4
      },
      "writtenOn": "2014-11-04T14:17:06Z",
      "side": 1,
      "message": "Using submodulewalk shouldn\u0027t be a big penalty since it\u0027s typically just traversing the DirCache to find submodule entries. Though we could improve that if we teach IndexDiff to cache and incrementally update submodule entries based on resource change events.",
      "parentUuid": "a766b734_492fb512",
      "revId": "dab4e4e019f63f933606e481c3c1a88ec7cf3448",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a766b734_699a71f6",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/staging/StagingView.java",
        "patchSetId": 1
      },
      "lineNbr": 1880,
      "author": {
        "id": 6
      },
      "writtenOn": "2014-10-24T15:01:12Z",
      "side": 1,
      "message": "I think this should be adapted also to mapping.getRepository(resource)",
      "range": {
        "startLine": 1880,
        "startChar": 36,
        "endLine": 1880,
        "endChar": 49
      },
      "revId": "dab4e4e019f63f933606e481c3c1a88ec7cf3448",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a766b734_3e5e74be",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/staging/StagingView.java",
        "patchSetId": 1
      },
      "lineNbr": 1880,
      "author": {
        "id": 6
      },
      "writtenOn": "2014-12-10T11:54:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a766b734_699a71f6",
      "range": {
        "startLine": 1880,
        "startChar": 36,
        "endLine": 1880,
        "endChar": 49
      },
      "revId": "dab4e4e019f63f933606e481c3c1a88ec7cf3448",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}