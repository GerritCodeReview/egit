{
  "comments": [
    {
      "key": {
        "uuid": "facd1127_163dcf8d",
        "filename": "org.eclipse.egit.core/src/org/eclipse/egit/core/RepositoryCache.java",
        "patchSetId": 9
      },
      "lineNbr": 284,
      "author": {
        "id": 440
      },
      "writtenOn": "2019-11-17T06:42:06Z",
      "side": 1,
      "message": "Why is that necessary? I thought that all clients are responsible for matching pairs of open/close calls, which would mean that an artificial open would rather be a workaround for a unbalanced close call somewhere else.",
      "range": {
        "startLine": 282,
        "startChar": 4,
        "endLine": 284,
        "endChar": 5
      },
      "revId": "b278d14dc9eef11f7f90158dd5fb2be9b4f88565",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d419d340_aa89fb43",
        "filename": "org.eclipse.egit.core/src/org/eclipse/egit/core/RepositoryCache.java",
        "patchSetId": 9
      },
      "lineNbr": 284,
      "author": {
        "id": 44628
      },
      "writtenOn": "2019-11-17T10:09:06Z",
      "side": 1,
      "message": "EGit opens its cached repositories when it creates them. Then they are kept open and never closed in EGit code until they are not referenced anymore: when they disappear from the cache and are garbage collected, they are closed.\n\nOther code, like JGit, does what you say. JGit would call close() on a repository returned by that builder. But if we give JGit a cached repository, it must not be closed yet. The instance is still in the cache and may be used again. So in such cases we use getBuilder(true, ...) to make the close() call just decrement the open counter again, but not close the repository.\n\nIf we didn\u0027t do that, we\u0027d have closed repository instances for all submodules in the cache after the first IndexDiff.diff().",
      "parentUuid": "facd1127_163dcf8d",
      "range": {
        "startLine": 282,
        "startChar": 4,
        "endLine": 284,
        "endChar": 5
      },
      "revId": "b278d14dc9eef11f7f90158dd5fb2be9b4f88565",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}