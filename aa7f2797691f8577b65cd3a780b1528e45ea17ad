{
  "comments": [
    {
      "key": {
        "uuid": "f075b0ae_2def9b44",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/history/RefFilterHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 652,
      "author": {
        "id": 44628
      },
      "writtenOn": "2019-11-17T11:27:33Z",
      "side": 1,
      "message": "Yep, that was my approach, too. Still calls getBranch() multiple times if there are multiple filters using that macro, but I don\u0027t think that\u0027s a concern.\n\nNote that doing this restricts the way these filters can be used. Essentially one must always create new RefFilterHelper when one wants to match, and one must never cache and re-use filters since there\u0027s no way to reset the expandedFilterPattern. (Except setting a new filter string, which would break any HashSets containing the filter.) Which fits the current usage but gives a rather fragile API.",
      "revId": "aa7f2797691f8577b65cd3a780b1528e45ea17ad",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a09310c7_e7a0c9dd",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/history/RefFilterHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 659,
      "author": {
        "id": 44628
      },
      "writtenOn": "2019-11-17T11:27:33Z",
      "side": 1,
      "message": "From just looking at the code I don\u0027t see why currentPattern.containsPattern() didn\u0027t work?",
      "range": {
        "startLine": 659,
        "startChar": 8,
        "endLine": 659,
        "endChar": 43
      },
      "revId": "aa7f2797691f8577b65cd3a780b1528e45ea17ad",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2096a3ca_5a89db73",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/history/RefFilterHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 659,
      "author": {
        "id": 1179
      },
      "writtenOn": "2019-11-17T11:41:44Z",
      "side": 1,
      "message": "I have no idea why do we use TokenizedPattern, it does not work on Windows because it uses \"\\\" for path tokens. Once we fix that, we can switch back.\n\npublic boolean containsPattern(String pat) {\n        return Stream.of(tokenizedPattern).anyMatch(Predicate.isEqual(pat));\n}",
      "parentUuid": "a09310c7_e7a0c9dd",
      "range": {
        "startLine": 659,
        "startChar": 8,
        "endLine": 659,
        "endChar": 43
      },
      "revId": "aa7f2797691f8577b65cd3a780b1528e45ea17ad",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "51b14211_c49e957c",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/history/RefFilterHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 659,
      "author": {
        "id": 1179
      },
      "writtenOn": "2019-11-17T12:14:30Z",
      "side": 1,
      "message": "See patch set 2. Not nice but works. Since we always work/test on Linux we never seen that it actually never works on Windows.",
      "parentUuid": "2096a3ca_5a89db73",
      "range": {
        "startLine": 659,
        "startChar": 8,
        "endLine": 659,
        "endChar": 43
      },
      "revId": "aa7f2797691f8577b65cd3a780b1528e45ea17ad",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c5082209_4ca8f5c6",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/history/RefFilterHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 659,
      "author": {
        "id": 44628
      },
      "writtenOn": "2019-11-17T12:25:31Z",
      "side": 1,
      "message": "Indeed, not nice :-( Switch to FileNameMatcher?\n\nP.S.: as to why: probably because I once mentioned it. See https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d381520#c14 .",
      "parentUuid": "51b14211_c49e957c",
      "range": {
        "startLine": 659,
        "startChar": 8,
        "endLine": 659,
        "endChar": 43
      },
      "revId": "aa7f2797691f8577b65cd3a780b1528e45ea17ad",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "153ba148_ab0e8b3b",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/history/RefFilterHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 659,
      "author": {
        "id": 1179
      },
      "writtenOn": "2019-11-17T12:37:37Z",
      "side": 1,
      "message": "I would merge current fix and open a bug to switch to something better.",
      "parentUuid": "c5082209_4ca8f5c6",
      "range": {
        "startLine": 659,
        "startChar": 8,
        "endLine": 659,
        "endChar": 43
      },
      "revId": "aa7f2797691f8577b65cd3a780b1528e45ea17ad",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fd3380d_6089779f",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/history/RefFilterHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 659,
      "author": {
        "id": 44628
      },
      "writtenOn": "2019-11-17T13:07:54Z",
      "side": 1,
      "message": "Ack.",
      "parentUuid": "153ba148_ab0e8b3b",
      "range": {
        "startLine": 659,
        "startChar": 8,
        "endLine": 659,
        "endChar": 43
      },
      "revId": "aa7f2797691f8577b65cd3a780b1528e45ea17ad",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "196f4ec9_89e7a716",
        "filename": "org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/history/RefFilterHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 659,
      "author": {
        "id": 1179
      },
      "writtenOn": "2019-11-17T14:58:38Z",
      "side": 1,
      "message": "I think the PathMatcher we have for ignore paths (and which is reused for attributes) would work here too:\n\norg.eclipse.jgit.ignore.internal.PathMatcher.createPathMatcher(String, Character, boolean)\n\nMay be we should move it to a different, more generic name space. It will also allow more patterns to be supported.",
      "parentUuid": "c5082209_4ca8f5c6",
      "range": {
        "startLine": 659,
        "startChar": 8,
        "endLine": 659,
        "endChar": 43
      },
      "revId": "aa7f2797691f8577b65cd3a780b1528e45ea17ad",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}