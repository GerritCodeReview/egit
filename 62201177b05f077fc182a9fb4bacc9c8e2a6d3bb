{
  "comments": [
    {
      "key": {
        "uuid": "4763eccb_6c72b0ea",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 4
      },
      "writtenOn": "2018-06-02T14:24:34Z",
      "side": 1,
      "message": "insensitive",
      "range": {
        "startLine": 11,
        "startChar": 29,
        "endLine": 11,
        "endChar": 38
      },
      "revId": "62201177b05f077fc182a9fb4bacc9c8e2a6d3bb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7e42c45e_a686a0a0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 4
      },
      "writtenOn": "2018-06-02T14:24:34Z",
      "side": 1,
      "message": "style nit: move the bug link up before the ChangeId",
      "revId": "62201177b05f077fc182a9fb4bacc9c8e2a6d3bb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7e5294f2_5f35f528",
        "filename": "org.eclipse.egit.gitflow/src/org/eclipse/egit/gitflow/BranchNameValidator.java",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-06-01T20:12:56Z",
      "side": 1,
      "message": "Good; this will also catch things like \"master~1\" (don\u0027t know if that can occur as input at all). But it\u0027s not case-insensitive.",
      "revId": "62201177b05f077fc182a9fb4bacc9c8e2a6d3bb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d458dbe8_59e6a644",
        "filename": "org.eclipse.egit.gitflow/src/org/eclipse/egit/gitflow/BranchNameValidator.java",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 440
      },
      "writtenOn": "2018-06-02T09:17:37Z",
      "side": 1,
      "message": "On my machine (Windows) it handles the case sensitivy. If \"master\" exists, then .resolve(\"Master\") returns that branch. I\u0027ve basically taken this line from ValidationUtils.java:58, where it shows the error message \"Ref {0} already exists\", when trying to create a branch \"Master\" via the \"Create branch wizard\".\n\nSo to summarize I\u0027m not sure if this code catches case sensitive only name changes on other operating systems, but it does the same as the egit create branch dialog now, which at least resolves my initial issue.",
      "parentUuid": "7e5294f2_5f35f528",
      "revId": "62201177b05f077fc182a9fb4bacc9c8e2a6d3bb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "39481fa8_42b8996a",
        "filename": "org.eclipse.egit.gitflow/src/org/eclipse/egit/gitflow/BranchNameValidator.java",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-06-02T09:55:11Z",
      "side": 1,
      "message": "Let\u0027s assume there is no ref \"refs/heads/Foo\", but there is a *packed* ref \"refs/heads/foo\". If you try to resolve \"ref/heads/Foo\", you\u0027ll get null, also on case-insensitive file systems.",
      "parentUuid": "d458dbe8_59e6a644",
      "revId": "62201177b05f077fc182a9fb4bacc9c8e2a6d3bb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "939c656d_5729448b",
        "filename": "org.eclipse.egit.gitflow/src/org/eclipse/egit/gitflow/BranchNameValidator.java",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-06-01T20:12:56Z",
      "side": 1,
      "message": "I don\u0027t get the logic here. Where\u0027s the bit about the case-insensitivity?\n\nShould this \"equals\" here be \"equalsIgnoreCase\"?",
      "revId": "62201177b05f077fc182a9fb4bacc9c8e2a6d3bb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e2f06d56_52ad14de",
        "filename": "org.eclipse.egit.gitflow/src/org/eclipse/egit/gitflow/BranchNameValidator.java",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 440
      },
      "writtenOn": "2018-06-02T09:17:37Z",
      "side": 1,
      "message": "This code has not changed (but the gerrit diff view makes it look different). I\u0027ve only added the lines 75 to 81 _before_ this code.",
      "parentUuid": "939c656d_5729448b",
      "revId": "62201177b05f077fc182a9fb4bacc9c8e2a6d3bb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfea8cff_3db7504f",
        "filename": "org.eclipse.egit.gitflow/src/org/eclipse/egit/gitflow/BranchNameValidator.java",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-06-02T09:55:11Z",
      "side": 1,
      "message": "Yes, I got that. But if the resolve() above already handled case insensitivity then this second try block wouldn\u0027t be needed at all. But resolve() is not sufficient, and so this here should use equalsIgnoreCase.\n\nSo in essence I don\u0027t quite understand what you\u0027re trying to do:\n\n1. If you\u0027re trying to forbid creating \"Foo\" if \"foo\" already exists _on all platforms_, you need both and equalsIgnoreCase here.\n\n2. If you just want to forbid it when it would cause trouble (\"foo\" exists as a loose ref on a case-insensitive file system), then the resolve alone above would be sufficient.\n\nNote that the IInputValidator from ValidationUtils checks more. It\u0027ll also reject \"refs/heads/Foo\" if a ref \"refs/heads/Foo/bar\" already exists. So if it\u0027s (2) you\u0027re after, why not use the IInputValidator from ValiationUtils directly?",
      "parentUuid": "e2f06d56_52ad14de",
      "revId": "62201177b05f077fc182a9fb4bacc9c8e2a6d3bb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aee21e52_5a478be2",
        "filename": "org.eclipse.egit.gitflow/src/org/eclipse/egit/gitflow/BranchNameValidator.java",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 440
      },
      "writtenOn": "2018-06-02T10:33:50Z",
      "side": 1,
      "message": "It\u0027s number 2. I just want the gitflow menu to reject such input similar like the create branch menu would, instead of taking the input and running into an error afterwards when running the operation.\n\nI was not able to decide on my own whether this piece (comparing branch names) was still needed after adding my resolve(). But with your explanations it really seems best to just invoke the ValidationUtils here and to remove all other code. Thanks for that advice.",
      "parentUuid": "bfea8cff_3db7504f",
      "revId": "62201177b05f077fc182a9fb4bacc9c8e2a6d3bb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d4cf4ffb_06e3ca27",
        "filename": "org.eclipse.egit.gitflow/src/org/eclipse/egit/gitflow/BranchNameValidator.java",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 440
      },
      "writtenOn": "2018-06-02T10:40:49Z",
      "side": 1,
      "message": "Aarg, now I remember why I did not use ValidationUtils directly. ValidationUtils lives in egit.ui, since it implements *.jface.*.IInputValidator. The gitflow BranchNameValidator however is in non-ui.\n\nDo you think it makes sense to move the functionality of org.eclipse.egit.ui.internal.ValidationUtils.getRefNameInputValidator into egit.core and to leave only a thin wrapper adding the IInputValidator interface? Then I would try to go this way.",
      "parentUuid": "aee21e52_5a478be2",
      "revId": "62201177b05f077fc182a9fb4bacc9c8e2a6d3bb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f84d1284_214b6238",
        "filename": "org.eclipse.egit.gitflow/src/org/eclipse/egit/gitflow/BranchNameValidator.java",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 4
      },
      "writtenOn": "2018-06-02T14:24:34Z",
      "side": 1,
      "message": "yes, I think it makes sense to move the ref name validation implementation to core to enable reuse",
      "parentUuid": "d4cf4ffb_06e3ca27",
      "revId": "62201177b05f077fc182a9fb4bacc9c8e2a6d3bb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8b16f87a_c60f0e2a",
        "filename": "org.eclipse.egit.gitflow/src/org/eclipse/egit/gitflow/BranchNameValidator.java",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-06-03T15:22:20Z",
      "side": 1,
      "message": "This BranchNameValidator class here is called only from gitflow.ui. A pity that it\u0027s public API... since it is, I agree that moving the IInputValidator logic to egit.core\nand leaving both this BranchNameValidator and the ValidationUtils thin wrappers.",
      "parentUuid": "f84d1284_214b6238",
      "revId": "62201177b05f077fc182a9fb4bacc9c8e2a6d3bb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ccdaba4e_8dbb718a",
        "filename": "org.eclipse.egit.gitflow/src/org/eclipse/egit/gitflow/BranchNameValidator.java",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1638
      },
      "writtenOn": "2018-10-28T17:02:08Z",
      "side": 1,
      "message": "Refactored ValidationUtils here: 131561",
      "parentUuid": "8b16f87a_c60f0e2a",
      "revId": "62201177b05f077fc182a9fb4bacc9c8e2a6d3bb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}